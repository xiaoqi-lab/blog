---
import { getTranslation } from '../../i18n/index';
import LanguageSwitcher from '../LanguageSwitcher.astro';

// Get language from locals (set by middleware) or from URL path
let lang = Astro.locals.lang;
if (!lang) {
  // Fallback: check URL path
  if (Astro.url.pathname.startsWith('/zh')) {
    lang = 'zh';
  } else {
    lang = 'en';
  }
}
const t = getTranslation(lang);
---
<section class="bg-primary">
  <div
    class="px-8 2xl:max-w-7xl mx-auto pt-12"
    data-aos="fade-up"
    data-aos-duration="2000">
    <svg class="text-secondary w-full h-auto" viewBox="0 0 1200 200" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
      <text 
        x="50%" 
        y="50%" 
        dominant-baseline="middle" 
        text-anchor="middle" 
        font-family="Geist, sans-serif" 
        font-size="120" 
        font-weight="900" 
        fill="currentColor"
        class="text-secondary">
        Xiaoqi.Zhang :)
      </text>
    </svg>
      
  </div>
  <div class="px-8 2xl:max-w-7xl mx-auto pb-12">
    <div class="mt-6 space-y-2">
      <div
        class="h-0.5 bg-secondary"
        data-aos="fade-up"
        data-aos-duration="1000">
      </div>
      <div
        class="flex flex-col sm:flex-row gap-3 justify-between lg:items-center"
        data-aos="fade-up"
        data-aos-duration="1500">
        <div class="flex gap-3 items-center">
          <h3 class="text-secondary text-xs font-medium">
            <span>{t.hero.subtitle1}</span>
            <span class="font-bold">{t.hero.subtitle2}</span>
            <span class="italic">{t.hero.subtitle3}</span>
          </h3>
          <span class="h-auto border-secondary border"></span>
          <span class="text-secondary text-xs font-semibold"
            >{t.hero.available}</span
          >
          <LanguageSwitcher currentLang={lang} />
        </div>
        <div>
          <ul class="lg:items-center flex justify-between w-full gap-3 relative text-xs">
            <li>
              <a
                href={lang === 'en' ? '/blog' : '/zh/blog'}
                class="hover:text-secondary/80 text-secondary"
                >{t.nav.blog}</a
              >
            </li>            <li>
              <a
                href="https://github.com/xiaoqi-lab"
                class="hover:text-secondary/80 text-secondary"
                >GitHub</a
              >
            </li><li>
              <a
                href="https://x.com/777ontheway"
                class="hover:text-secondary/80 text-secondary"
                >X</a
              >
            </li><li>
              <a
                href="mailto:xiaoqi777.zhang@gmail.com"
                class="hover:text-secondary/80 text-secondary"
                >Email</a
              >
            </li>
          </ul>
        </div>
      </div>
      <div
        class="h-1.5 bg-secondary"
        data-aos="fade-up"
        data-aos-duration="2000">
      </div>
      <div class="h-3 bg-secondary" data-aos="fade-up" data-aos-duration="2500">
      </div>
      <div class="h-6 bg-secondary" data-aos="fade-up" data-aos-duration="3000">
      </div>
      <div
        class="h-12 bg-secondary"
        data-aos="fade-up"
        data-aos-duration="3000">
      </div>
      <div
        class="h-24 bg-secondary flex items-end p-4"
        data-aos="fade-up"
        data-aos-duration="3000"
        data-aos-delay="150">
      </div>
      <!-- <div class="flex w-full">
        <span class="text-xs font-medium text-secondary flex"
          >See more templates on &nbsp;<a
            class="hover:text-black duration-200 font-bold"
            href="https://lexingtonthemes.com/">Lexington Themes</a
          ></span
        >
        <span class="text-xs font-medium text-secondary flex ml-auto"
          >Get it on &nbsp;<a
            class="hover:text-black text-secondary duration-200 font-bold"
            href="https://github.com/michael-andreuzza/swissfolio">GitHub</a
          ></span
        >
      </div> -->
    </div>
  </div>
</section>
