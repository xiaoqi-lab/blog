---
import { getTranslation } from '../../i18n/index';

// Get language from locals (set by middleware) or from URL path
let lang = Astro.locals.lang;
if (!lang) {
  // Fallback: check URL path
  if (Astro.url.pathname.startsWith('/zh')) {
    lang = 'zh';
  } else {
    lang = 'en';
  }
}
const t = getTranslation(lang);
---
<section class="bg-primary">
  <div class="px-8 2xl:max-w-7xl mx-auto py-6">
    <div class="grid grid-cols-1 lg:grid-cols-4 text-secondary gap-6 text-lg">
      <p
        class="text-3xl lg:col-span-3 lg:text-5xl indent-32 lg:indent-32"
        data-aos="fade-up"
        data-aos-duration="2000"
      >
      {t.intro.main}
      </p>
      <p
        class="text-lg lg:col-start-2 leading-relaxed underline underline-offset-4"
        data-aos="fade-up"
        data-aos-duration="2500"
      >
        {t.intro.contact} <a href="mailto:xiaoqi777.zhang@gmail.com">xiaoqi777.zhang@gmail.com</a>
      </p>
      <p
        class="lg:col-start-4 leading-relaxed"
        data-aos="fade-up"
        data-aos-duration="2500"
      >
        {t.intro.approach}
      </p>
      <p
        class="text-3xl lg:col-span-3 lg:text-7xl lg:col-start-2 lg:mt-48 indent-32 lg:indent-32"
        data-aos="fade-up"
        data-aos-duration="3000"
      >
        {t.intro.closing}
      </p>
    </div>
  </div>
</section>
